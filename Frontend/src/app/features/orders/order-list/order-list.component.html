<mat-card class="order-list-card" appearance="outlined">
  <mat-card-header>
    <mat-card-title>Pedidos</mat-card-title>
    <mat-card-subtitle>Listado de pedidos</mat-card-subtitle>
    <span class="spacer"></span>
    <button mat-mini-fab color="primary" routerLink="/orders/new" matTooltip="Generar un nuevo Pedido">
      <mat-icon>add_shopping_cart</mat-icon>
    </button>
  </mat-card-header>
  <mat-divider></mat-divider>
  <mat-card-content>
    <div class="table-wrapper">
      <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">

        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>N#</th>
          <td mat-cell *matCellDef="let order">
            <button mat-button type="button" (click)="examine(order.id)">
              {{ order.id }}
            </button>
          </td>
        </ng-container>

        <ng-container matColumnDef="clientId">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>cliente</th>
          <td mat-cell *matCellDef="let order"> {{ getClientName(order.clientId) }}</td>
        </ng-container>

        <ng-container matColumnDef="orderDate">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Fecha De Entrega</th>
          <td mat-cell *matCellDef="let order"> {{ order.orderDate | date }}</td>
        </ng-container>

        <ng-container matColumnDef="state">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Estado</th>
          <td mat-cell *matCellDef="let order">{{ order.state }}</td>
        </ng-container>

        <ng-container matColumnDef="totalPrice">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>Precio Total</th>
          <td mat-cell *matCellDef="let order">{{ order.totalPrice |currency }}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
        <tr mat-row *matRowDef="let row;columns:columnsToDisplay"></tr>
      </table>
    </div>
    <mat-divider></mat-divider>
    <mat-paginator [length]="totalOrders"
                   [pageSize]="5"
                   [pageSizeOptions]="[5,10,25]"
                   (page)="changePage($event)">
    </mat-paginator>
  </mat-card-content>
</mat-card>
